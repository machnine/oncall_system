{% extends "records/base.html" %}
{% block title %}
    {{ staff.user.get_full_name|default:staff.user.username }} - {{ current_month }}
{% endblock title %}
{% block content %}
    <div class="row">
        <div class="col-lg-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div class="d-flex align-items-center">
                    <h2>
                        <i class="bi-calendar3"></i> {{ staff.user.get_full_name|default:staff.user.username }}"s Records
                    </h2>
                    <div class="ms-3">{% include "records/partials/month_selector.html" %}</div>
                </div>
                <a href="javascript:history.back()" class="btn btn-secondary">
                    <i class="bi bi-arrow-left"></i> Back
                </a>
            </div>
        </div>
    </div>
    <div class="alert alert-warning" role="alert">
        <i class="bi bi-exclamation-triangle"></i> <strong>Admin View:</strong> You are viewing {{ staff.user.get_full_name|default:staff.user.username }}"s monthly records in read-only mode.
    </div>
    {% include "records/partials/stats_cards.html" %}
    {% with is_admin_view=True %}
        {% include "records/partials/timeblocks_table.html" %}
    {% endwith %}
{% endblock content %}

{% block extra_js %}
<script src="{% static 'js/timeblocks.js' %}"></script>
<script>
// Initialize hover effects for admin view
document.addEventListener('DOMContentLoaded', function() {
    if (typeof initializeTimeblocksHoverEffects === 'function') {
        initializeTimeblocksHoverEffects(true); // true = admin view
    }
});
</script>
{% endblock extra_js %}
